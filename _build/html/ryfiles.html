<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>File reading/writing utility &#8212; pyradi  documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pyradi  documentation" href="index.html" />
    <link rel="next" title="Plotting utility" href="ryplot.html" />
    <link rel="prev" title="Planck and thermal radiation" href="ryplanck.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ryplot.html" title="Plotting utility"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ryplanck.html" title="Planck and thermal radiation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyradi  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="file-reading-writing-utility">
<h1>File reading/writing utility<a class="headerlink" href="#file-reading-writing-utility" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pyradi.ryfiles">
<span id="overview"></span><h2>Overview<a class="headerlink" href="#module-pyradi.ryfiles" title="Permalink to this headline">¶</a></h2>
<p>This module provides functions for file input/output. These are all wrapper
functions, based on existing functions in other Python classes. Functions are 
provided to save a two-dimensional array to a text file, load selected columns 
of data from a text file, load a column header line, compact strings to include 
only legal filename characters, and a function from the Python Cookbook to 
recursively match filename patterns.</p>
<p>See the __main__ function for examples of use.</p>
<p>This package was partly developed to provide additional material in support of students 
and readers of the book Electro-Optical System Analysis and Design: A Radiometry 
Perspective,  Cornelius J. Willers, ISBN 9780819495693, SPIE Monograph Volume
PM236, SPIE Press, 2013.  <a class="reference external" href="http://spie.org/x648.html?product_id=2021423&amp;origin_id=x646">http://spie.org/x648.html?product_id=2021423&amp;origin_id=x646</a></p>
</div>
<div class="section" id="module-functions">
<h2>Module functions<a class="headerlink" href="#module-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyradi.ryfiles.saveHeaderArrayTextFile">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">saveHeaderArrayTextFile</code><span class="sig-paren">(</span><em>filename</em>, <em>dataArray</em>, <em>header=None</em>, <em>comment=None</em>, <em>delimiter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.saveHeaderArrayTextFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a numpy array to a file, included header lines.</p>
<p>This function saves a two-dimensional array to a text file, with
an optional user-defined header. This functionality will be part of
numpy 1.7, when released.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">filename (string): name of the output ASCII flatfile.</div>
<div class="line">dataArray (np.array[N,M]): a two-dimensional array.</div>
<div class="line">header (string): the optional header.</div>
<div class="line">comment (string): the symbol used to comment out lines, default value is None.</div>
<div class="line">delimiter (string): delimiter used to separate columns, default is whitespace.</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">Nothing.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.loadColumnTextFile">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">loadColumnTextFile</code><span class="sig-paren">(</span><em>filename, loadCol=[1], comment=None, normalize=0, skiprows=0, delimiter=None, abscissaScale=1, ordinateScale=1, abscissaOut=None, returnAbscissa=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.loadColumnTextFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Load selected column data from a text file, processing as specified.</p>
<p>This function loads column data from a text file, scaling and interpolating 
the read-in data, according to user specification. The first 0&#8217;th column has 
special significance: it is considered the abscissa (x-values) of the data 
set, while the remaining columns are any number of ordinate (y-value) vectors.
The user passes a list of columns to be read (default is [1]) - only these 
columns are read, processed and returned when the function exits.The user 
also passes an abscissa vector to which the input data is interpolated and 
then subsequently amplitude scaled or normalised.</p>
<p>Note: leave only single separators (e.g. spaces) between columns!
Also watch out for a single space at the start of line.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">filename (string): name of the input ASCII flatfile.</div>
<div class="line">loadCol ([int]): the M =len([]) column(s) to be loaded as the ordinate, default value is column 1</div>
<div class="line">comment (string): string, the symbol used to comment out lines, default value is None</div>
<div class="line">normalize (int): integer, flag to indicate if data must be normalized.</div>
<div class="line">skiprows (int): integer, the number of rows to be skipped at the start of the file (e.g. headers)</div>
<div class="line">delimiter (string): string, the delimiter used to separate columns, default is whitespace.</div>
<div class="line">abscissaScale (float): scale by which abscissa (column 0) must be multiplied</div>
<div class="line">ordinateScale (float): scale by which ordinate (column &gt;0) must be multiplied</div>
<div class="line">abscissaOut (np.array[N,] or [N,1]): abscissa vector on which output variables are interpolated.</div>
<div class="line">returnAbscissa (bool): return the abscissa vector as second item in return tuple.</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">ordinatesOut (np.array[N,M]): The interpolated, M columns of N rows, processed array.</div>
<div class="line">abscissaOut (np.array[N,M]): The ascissa where the ordinates are interpolated</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.loadHeaderTextFile">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">loadHeaderTextFile</code><span class="sig-paren">(</span><em>filename, loadCol=[1], comment=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.loadHeaderTextFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads column header data in the first string of a text file.</p>
<p>loads column header data from a file, from the first row.
Headers must be delimited by commas. The function [LoadColumnTextFile] provides
more comprehensive capabilties.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">filename (string): the name of the input ASCII flatfile.</div>
<div class="line">loadCol ([int]): list of numbers, the column headers to be loaded , default value is column 1</div>
<div class="line">comment (string): the symbol to comment out lines</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">[string]: a list with selected column header entries</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.cleanFilename">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">cleanFilename</code><span class="sig-paren">(</span><em>sourcestring</em>, <em>removestring=' %:/</em>, <em>.\\[]&lt;&gt;*?'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.cleanFilename" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean a string by removing selected characters.</p>
<p>Creates a legal and &#8216;clean&#8217; source string from a string by removing some 
clutter and  characters not allowed in filenames.
A default set is given but the user can override the default string.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">sourcestring (string): the string to be cleaned.</div>
<div class="line">removestring (string): remove all these characters from the string (optional).</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">(string): A cleaned-up string.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.listFiles">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">listFiles</code><span class="sig-paren">(</span><em>root</em>, <em>patterns='*'</em>, <em>recurse=1</em>, <em>return_folders=0</em>, <em>useRegex=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.listFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists the files/directories meeting specific requirement</p>
<blockquote>
<div>Returns a list of file paths to files in a file system, searching a 
directory structure along the specified path, looking for files 
that matches the glob pattern. If specified, the search will continue 
into sub-directories.  A list of matching names is returned. The 
function supports a local or network reachable filesystem, but not URLs.</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">root (string): directory root from where the search must take place</div>
<div class="line">patterns (string): glob/regex pattern for filename matching. Multiple pattens 
may be present, each one separated by ;</div>
<div class="line">recurse (unt): flag to indicate if subdirectories must also be searched (optional)</div>
<div class="line">return_folders (int): flag to indicate if folder names must also be returned (optional)</div>
<div class="line">useRegex (bool): flag to indicate if patterns areregular expression strings (optional)</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">A list with matching file/directory names</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.execOnFiles">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">execOnFiles</code><span class="sig-paren">(</span><em>cmdline</em>, <em>root</em>, <em>patterns='*'</em>, <em>recurse=1</em>, <em>return_folders=0</em>, <em>useRegex=False</em>, <em>printTask=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.execOnFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>execute a program on a list of files/directories meeting specific requirement</p>
<blockquote>
<div><p>Seek files recursively and then execute a program on those files. 
The program is defined as a command line string as would be types on
a terminal, except that a token is given in the place where the 
filename must be.  The token is  a string &#8216;{0}&#8217; (with the braces as shown).
During execution the token is replaced with the filename found in the recursive search.
This replacement is done with the standard string formatter, where the filename 
replaces all occurences of {0}:
task = cmdline.format(filename)</p>
<p>Example: cmdline = &#8216;bmpp -l eps.object {0}&#8217;</p>
</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">cmdline (str): string that defines the program to be executed</div>
<div class="line">root (string): directory root from where the search must take place</div>
<div class="line">patterns (string): glob/regex pattern for filename matching</div>
<div class="line">recurse (unt): flag to indicate if subdirectories must also be searched (optional)</div>
<div class="line">return_folders (int): flag to indicate if folder names must also be returned (optional)</div>
<div class="line">useRegex (bool): flag to indicate if patterns areregular expression strings (optional)</div>
<div class="line">printTask (bool): flag to indicate if the commandline must be printed (optional)</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">A list with matching file/directory names</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.readRawFrames">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">readRawFrames</code><span class="sig-paren">(</span><em>fname</em>, <em>rows</em>, <em>cols</em>, <em>vartype</em>, <em>loadFrames=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.readRawFrames" title="Permalink to this definition">¶</a></dt>
<dd><p>Loading multi-frame two-dimensional arrays from a raw data file of known data type.</p>
<blockquote>
<div>The file must consist of multiple frames, all with the same number of rows and columns.
Frames of different data types can be read, according to the user specification.  
The user can specify which frames must be loaded (if not the whole file).</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">fname (string): filename</div>
<div class="line">rows (int): number of rows in each frame</div>
<div class="line">cols (int): number of columns in each frame</div>
<div class="line">vartype (np.dtype): numpy data type of data to be read</div>
<div class="line-block">
<div class="line">int8, int16, int32, int64</div>
<div class="line">uint8, uint16, uint32, uint64</div>
<div class="line">float16, float32, float64</div>
</div>
<div class="line">loadFrames ([int]): optional list of frames to load, zero-based , empty list (default) loads all frames</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">frames (int) : number of frames in the returned data set,</div>
<div class="line-block">
<div class="line">0 if error occurred</div>
</div>
<div class="line">rawShaped (np.ndarray): vartype numpy array of dimensions (frames,rows,cols),</div>
<div class="line-block">
<div class="line">None if error occurred</div>
</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">Exception is raised if IOError</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.rawFrameToImageFile">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">rawFrameToImageFile</code><span class="sig-paren">(</span><em>image</em>, <em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.rawFrameToImageFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a single raw image frame to image file.
The file type must be given, e.g. png or jpg.
The image need not be scaled beforehand, it is done prior 
to writing out the image. Could be one of
BMP, JPG, JPEG, PNG, PPM, TIFF, XBM, XPM)
but the file types available depends
on the QT imsave plugin in use.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">image (np.ndarray): two-dimensional array representing an image</div>
<div class="line">filename (string): name of file to be written to, with extension</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">Nothing</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.arrayToLaTex">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">arrayToLaTex</code><span class="sig-paren">(</span><em>filename</em>, <em>arr</em>, <em>header=None</em>, <em>leftCol=None</em>, <em>formatstring='%10.4e'</em>, <em>filemode='wt'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.arrayToLaTex" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a numpy array to latex table format in output file.</p>
<blockquote>
<div><p>The table can contain only the array data (no top header or
left column side-header), or you can add either or both of the
top row or side column headers. Leave &#8216;header&#8217; or &#8216;leftcol&#8217; as
None is you don&#8217;t want these.</p>
<p>The output format of the array data can be specified, i.e.
scientific notation or fixed decimal point.</p>
</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">fname (string): text writing output path and filename</div>
<div class="line">arr (np.array[N,M]): array with table data</div>
<div class="line">header (string): column header in final latex format (optional)</div>
<div class="line">leftCol ([string]): left column each row, in final latex format (optional)</div>
<div class="line">formatstring (string): output format precision for array data (see np.savetxt) (optional)</div>
<div class="line">filemode (string): file open mode [a=append, w=new file][t=text, b=binary] 
use binary for Python 3 (optional)</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">None, writes a file to disk</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.epsLaTexFigure">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">epsLaTexFigure</code><span class="sig-paren">(</span><em>filename</em>, <em>epsname</em>, <em>caption</em>, <em>scale=None</em>, <em>vscale=None</em>, <em>filemode='a'</em>, <em>strPost=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.epsLaTexFigure" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Write the LaTeX code to include an eps graphic as a latex figure.</dt>
<dd>The text is added to an existing file.</dd>
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">fname (string):  text writing output path and filename.</div>
<div class="line">epsname (string): filename/path to eps file (relative to where the LaTeX document is built).</div>
<div class="line">caption (string): figure caption</div>
<div class="line">scale (double): figure scale to textwidth [0..1]</div>
<div class="line">vscale (double): figure scale to textheight [0..1]</div>
<div class="line">filemode (string): file open mode (a=append, w=new file) (optional)</div>
<div class="line">strPost (string): string to write to file after latex figure block (optional)</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">None, writes a file to disk</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.read2DLookupTable">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">read2DLookupTable</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.read2DLookupTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a 2D lookup table and extract the data.</p>
<blockquote>
<div><p>The table has the following format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">line</span> <span class="mi">1</span><span class="p">:</span> <span class="n">xlabel</span> <span class="n">ylabel</span> <span class="n">title</span>
<span class="n">line</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">0</span> <span class="p">(</span><span class="n">vector</span> <span class="n">of</span> <span class="n">y</span> <span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="n">abscissa</span><span class="p">)</span>
<span class="n">lines</span> <span class="mi">3</span> <span class="ow">and</span> <span class="n">following</span><span class="p">:</span> <span class="p">(</span><span class="n">element</span> <span class="n">of</span> <span class="n">x</span> <span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="n">abscissa</span><span class="p">),</span> <span class="n">followed</span>
<span class="n">by</span> <span class="n">table</span> <span class="n">data</span><span class="o">.</span>
</pre></div>
</div>
<p>From line/row 3 onwards the first element is the x abscissa value
followed by the row of data, one point for each y abscissa value.</p>
<p>The file format can depicted as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">-</span><span class="n">name</span> <span class="n">y</span><span class="o">-</span><span class="n">name</span> <span class="n">ordinates</span><span class="o">-</span><span class="n">name</span>
<span class="mi">0</span> <span class="n">y1</span> <span class="n">y2</span> <span class="n">y3</span> <span class="n">y4</span>
<span class="n">x1</span> <span class="n">v11</span> <span class="n">v12</span> <span class="n">v13</span> <span class="n">v14</span>
<span class="n">x2</span> <span class="n">v21</span> <span class="n">v22</span> <span class="n">v23</span> <span class="n">v24</span>
<span class="n">x3</span> <span class="n">v31</span> <span class="n">v32</span> <span class="n">v33</span> <span class="n">v34</span>
<span class="n">x4</span> <span class="n">v41</span> <span class="n">v42</span> <span class="n">v43</span> <span class="n">v44</span>
<span class="n">x5</span> <span class="n">v51</span> <span class="n">v52</span> <span class="n">v53</span> <span class="n">v54</span>
<span class="n">x6</span> <span class="n">v61</span> <span class="n">v62</span> <span class="n">v63</span> <span class="n">v64</span>
</pre></div>
</div>
<p>This function reads the file and returns the individual data items.</p>
</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">fname (string): input path and filename</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">xVec ((np.array[N])): x abscissae</div>
<div class="line">yVec ((np.array[M])): y abscissae</div>
<div class="line">data ((np.array[N,M])): data corresponding the x,y</div>
<div class="line">xlabel (string): x abscissa label</div>
<div class="line">ylabel (string): y abscissa label</div>
<div class="line">title (string): dataset title</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.downloadFileUrl">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">downloadFileUrl</code><span class="sig-paren">(</span><em>url</em>, <em>saveFilename=None</em>, <em>proxy=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.downloadFileUrl" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a file, given a URL.</p>
<p>The URL is used to download a file, to the saveFilename specified.
If no saveFilename is given, the basename of the URL is used.
Before doownloading, first test to see if the file already exists.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first line-block">
<div class="line">url (string): the url to be accessed.</div>
<div class="line">saveFilename (string): path to where the file must be saved (optional).</div>
<div class="line">proxy (string): path to proxy server (optional).</div>
</div>
<p class="last">The proxy string is something like this
proxy = {&#8216;https&#8217;:r&#8217;<a class="reference external" href="https://username:password&#64;proxyname:portnumber">https://username:password&#64;proxyname:portnumber</a>&#8216;}</p>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">(string): Filename saved, or None if failed.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">Exceptions are handled internally and signaled by return value.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.unzipGZipfile">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">unzipGZipfile</code><span class="sig-paren">(</span><em>zipfilename</em>, <em>saveFilename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.unzipGZipfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Unzip a file that was compressed using the gzip format.</p>
<p>The zipfilename is used to open a file, to the saveFilename specified.
If no saveFilename is given, the basename of the zipfilename is used, 
but with the file extension removed.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">zipfilename (string): the zipfilename to be decompressed.</div>
<div class="line">saveFilename (string): to where the file must be saved (optional).</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">(string): Filename saved, or None if failed.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">Exceptions are handled internally and signaled by return value.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.untarTarfile">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">untarTarfile</code><span class="sig-paren">(</span><em>tarfilename</em>, <em>saveDirname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.untarTarfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Untar a tar archive, and save all files to the specified directory.</p>
<p>The tarfilename is used to open a file, extraxting to the saveDirname specified.
If no saveDirname is given, the local directory &#8216;.&#8217; is used.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">tarfilename (string): the name of the tar archive.</div>
<div class="line">saveDirname (string): to where the files must be extracted</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">([string]): list of filenames saved, or None if failed.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">Exceptions are handled internally and signaled by return value.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.downloadUntar">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">downloadUntar</code><span class="sig-paren">(</span><em>tgzFilename</em>, <em>url</em>, <em>destinationDir=None</em>, <em>tarFilename=None</em>, <em>proxy=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.downloadUntar" title="Permalink to this definition">¶</a></dt>
<dd><p>Download and untar a compressed tar archive, and save all files to the specified directory.</p>
<p>The tarfilename is used to open the tar file, extracting to the destinationDir specified.
If no destinationDir is given, the local directory &#8216;.&#8217; is used.
Before downloading, a check is done to determine if the file was already downloaded
and exists in the local file system.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first line-block">
<div class="line">tgzFilename (string): the name of the tar archive file</div>
<div class="line">url (string): url where to look for the file (not including the filename)</div>
<div class="line">destinationDir (string): to where the files must be extracted (optional)</div>
<div class="line">tarFilename (string): downloaded tar filename (optional)</div>
<div class="line">proxy (string): path to proxy server (optional).</div>
</div>
<p class="last">The proxy string is something like this
proxy = {&#8216;https&#8217;:r&#8217;<a class="reference external" href="https://username:password&#64;proxyname:portnumber">https://username:password&#64;proxyname:portnumber</a>&#8216;}</p>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">([string]): list of filenames saved, or None if failed.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">Exceptions are handled internally and signaled by return value.</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.open_HDF">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">open_HDF</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.open_HDF" title="Permalink to this definition">¶</a></dt>
<dd><p>Open and return an HDF5 file with the given filename.</p>
<p>See <a class="reference external" href="https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md">https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md</a>
for more information on using HDF5 as a data structure.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">filename (string): name of the file to be opened</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">HDF5 file.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
<p>Author: CJ Willers</p>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.erase_create_HDF">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">erase_create_HDF</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.erase_create_HDF" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and return a new HDS5 file with the given filename, erase the file if existing.</p>
<p>See <a class="reference external" href="https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md">https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md</a>
for more information on using HDF5 as a data structure.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">filename (string): name of the file to be created</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">HDF5 file.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
<p>Author: CJ Willers</p>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.print_HDF5_text">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">print_HDF5_text</code><span class="sig-paren">(</span><em>vartext</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.print_HDF5_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints text in visiting algorithm in HDF5 file.</p>
<p>See <a class="reference external" href="https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md">https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md</a>
for more information on using HDF5 as a data structure.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">vartext (string): string to be printed</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">HDF5 file.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
<p>Author: CJ Willers</p>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.print_HDF5_dataset_value">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">print_HDF5_dataset_value</code><span class="sig-paren">(</span><em>var</em>, <em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.print_HDF5_dataset_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a data set in visiting algorithm in HDF5 file.</p>
<p>See <a class="reference external" href="https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md">https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md</a>
for more information on using HDF5 as a data structure.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">var (string): path to a dataset</div>
<div class="line">obj (h5py dataset): dataset to be printed</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">HDF5 file.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
<p>Author: CJ Willers</p>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.get_HDF_branches">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">get_HDF_branches</code><span class="sig-paren">(</span><em>hdf5File</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.get_HDF_branches" title="Permalink to this definition">¶</a></dt>
<dd><p>Print list of all the branches in the file</p>
<p>See <a class="reference external" href="https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md">https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md</a>
for more information on using HDF5 as a data structure.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">hdf5File (H5py file): the file to be opened</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">HDF5 file.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
<p>Author: CJ Willers</p>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.plotHDF5Bitmaps">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">plotHDF5Bitmaps</code><span class="sig-paren">(</span><em>hfd5f</em>, <em>prefix</em>, <em>pformat='png'</em>, <em>lstimgs=None</em>, <em>debug=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.plotHDF5Bitmaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot arrays in the HFD5 as scaled bitmap images.</p>
<p>See <a class="reference external" href="https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md">https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md</a>
for more information on using HDF5 as a data structure.</p>
<p>Retain zero in the array as black in the image, only scale the max value to 255</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">hfd5f (H5py file): the file to be opened</div>
<div class="line">prefix (string): prefix to be prepended to filename</div>
<div class="line">pformat (string): type of file to be created png/jpeg</div>
<div class="line">lstimgs ([string]): list of paths to image in the HFD5 file</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">Nothing.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
<p>Author: CJ Willers</p>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.plotHDF5Images">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">plotHDF5Images</code><span class="sig-paren">(</span><em>hfd5f</em>, <em>prefix</em>, <em>colormap=&lt;matplotlib.colors.LinearSegmentedColormap object at 0x00000000083D3D30&gt;</em>, <em>cbarshow=True</em>, <em>lstimgs=None</em>, <em>logscale=False</em>, <em>debug=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.plotHDF5Images" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot images contained in hfd5f with colour map to show magnitude.</p>
<p>See <a class="reference external" href="https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md">https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md</a>
for more information on using HDF5 as a data structure.</p>
<p><a class="reference external" href="http://wiki.scipy.org/Cookbook/Matplotlib/Show_colormaps">http://wiki.scipy.org/Cookbook/Matplotlib/Show_colormaps</a></p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">hfd5f (H5py file): the file to be opened</div>
<div class="line">prefix (string): prefix to be prepended to filename</div>
<div class="line">colormap (Matplotlib colour map): colour map to be used in plot</div>
<div class="line">cbarshow (boolean): indicate if colour bar must be shown</div>
<div class="line">lstimgs ([string]): list of paths to image in the HFD5 file</div>
<div class="line">logscale (boolean): True if display must be on log scale</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">Nothing.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
<p>Author: CJ Willers</p>
</dd></dl>

<dl class="function">
<dt id="pyradi.ryfiles.plotHDF5Histograms">
<code class="descclassname">pyradi.ryfiles.</code><code class="descname">plotHDF5Histograms</code><span class="sig-paren">(</span><em>hfd5f</em>, <em>prefix</em>, <em>format='png'</em>, <em>lstimgs=None</em>, <em>bins=50</em><span class="sig-paren">)</span><a class="headerlink" href="#pyradi.ryfiles.plotHDF5Histograms" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot histograms of images contained in hfd5f</p>
<p>See <a class="reference external" href="https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md">https://github.com/NelisW/pyradi/blob/master/pyradi/hdf5-as-data-format.md</a>
for more information on using HDF5 as a data structure.</p>
<p>Retain zero in the array as black in the image, only scale the max value to 255</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><div class="first last line-block">
<div class="line">hfd5f (H5py file): the file to be opened</div>
<div class="line">prefix (string): prefix to be prepended to filename</div>
<div class="line">format (string): type of file to be created png/jpeg</div>
<div class="line">lstimgs ([string]): list of paths to image in the HFD5 file</div>
<div class="line">bins ([int]): Number of bins to be used in histogram</div>
</div>
</dd>
<dt>Returns:</dt>
<dd><div class="first last line-block">
<div class="line">Nothing.</div>
</div>
</dd>
<dt>Raises:</dt>
<dd><div class="first last line-block">
<div class="line">No exception is raised.</div>
</div>
</dd>
</dl>
<p>Author: CJ Willers</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">File reading/writing utility</a><ul>
<li><a class="reference internal" href="#module-pyradi.ryfiles">Overview</a></li>
<li><a class="reference internal" href="#module-functions">Module functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ryplanck.html"
                        title="previous chapter">Planck and thermal radiation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ryplot.html"
                        title="next chapter">Plotting utility</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ryfiles.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ryplot.html" title="Plotting utility"
             >next</a> |</li>
        <li class="right" >
          <a href="ryplanck.html" title="Planck and thermal radiation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyradi  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2012, CJ Willers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.6.
    </div>
  </body>
</html>