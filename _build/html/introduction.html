
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Introduction &#8212; pyradi  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Planck and thermal radiation" href="ryplanck.html" />
    <link rel="prev" title="Welcome to pyradi’s documentation!" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ryplanck.html" title="Planck and thermal radiation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to pyradi’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyradi  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Electro-optical system design, data analysis and modelling involve a significant
amount of calculation and processing. Many of these calculations are of a
repetitive and general nature, suitable for including in a generic toolkit.
The availability of such a toolkit facilitates and increases productivity
during subsequent tool development: ‘develop once and use many times’. The
concept of an extendible toolkit lends itself naturally to the open-source
philosophy, where the toolkit user-base develops the capability cooperatively,
for mutual benefit. This paper covers the underlying philosophy to the toolkit
development, brief descriptions and examples of the various tools and an
overview of the electro-optical toolkit.</p>
<p>The pyradi toolbox can be applied towards many different applications. An example
is included in the pyradi website (see the file exflamesensor.py). This example
was first published in a SPIE conference paper <a class="reference internal" href="#spie8543pyradi" id="id1">[SPIE8543Pyradi]</a>.</p>
</div>
<div class="section" id="toolkit-approach">
<h2>Toolkit approach<a class="headerlink" href="#toolkit-approach" title="Permalink to this headline">¶</a></h2>
<p>The development of this toolkit is following the Unix philosophy for software
development, summarised in the words of Doug McIlroy: ‘Write programs that do
one thing and do it well. Write programs to work together.’ In broader terms the
philosophy was stated by Eric Raymond, but only selected items shown here
(<a class="reference external" href="http://en.wikipedia.org/wiki/Unix_philosophy">http://en.wikipedia.org/wiki/Unix_philosophy</a>):</p>
<ol class="arabic simple">
<li>Rule of Modularity: Write simple parts connected by clean interfaces.</li>
<li>Rule of Clarity: Clarity is better than cleverness.</li>
<li>Rule of Composition: Design programs to be connected to other programs.</li>
<li>Rule of Simplicity: Design for simplicity; add complexity only where you must.</li>
<li>Rule of Parsimony: Write a big program only when it is clear by demonstration
that nothing else will do.</li>
<li>Rule of Transparency: Design for visibility to make inspection and
debugging easier.</li>
<li>Rule of Robustness: Robustness is the child of transparency and simplicity.</li>
<li>Rule of Representation: Fold knowledge into data so program logic can
be stupid and robust.</li>
<li>Rule of Economy: Programmer time is expensive; conserve it in preference
to machine time.</li>
<li>Rule of Generation: Avoid hand-hacking; write programs to write programs
when you can.</li>
<li>Rule of Optimisation: Prototype before polishing. Get it working before
you optimise it.</li>
<li>Rule of Extensibility: Design for the future, because it will be here sooner
than you think.</li>
</ol>
</div>
<div class="section" id="example-application">
<h2>Example application<a class="headerlink" href="#example-application" title="Permalink to this headline">¶</a></h2>
<p>A typical radiometry toolkit requirement (very much simplified) is the calculation
of the detector current of an electro-optical sensor viewing a target object.
The system can be conceptually modelled as shown in the figure below,
comprising a radiating source with
spectral radiance, an intervening medium (e.g. the atmosphere), a spectral filter,
optics, a detector and an amplifier.</p>
<a class="reference internal image-reference" href="_images/simplesystem.png"><img alt="pyradi logo" class="align-center" src="_images/simplesystem.png" style="width: 406.0px; height: 122.0px;" /></a>
<p>The amplifier output signal
can be calculated in the following equation,  by integrating  over
all wavelengths, over the full source area <img class="math" src="_images/math/9808c9586a5541ef54bc150a643b967e68ca7580.png" alt="A_0"/> and over the optical
aperture area <img class="math" src="_images/math/7d8779e6ecd1c1c63865faf316bf1f533efafc4b.png" alt="A_1"/>,</p>
<div class="math">
<p><img src="_images/math/b6763c5c20b2eeb7b1b8f5d64edc3f86c79b4ef3.png" alt="v=
Z_t
\int_{A_0}
\int_{A_1}
\frac{1}{r_{01}^2}
\int_0^\infty
\epsilon_\lambda L_\lambda(T,A_0)\tau_{a\lambda}\tau_{s\lambda}(A_1){\cal R}_\lambda
\;d\lambda
\;d(\cos\theta_0 A_0)
\;d(\cos\theta_1 A_1)"/></p>
</div><p>where
<img class="math" src="_images/math/8d230554a01423c4c6560104b2918b65607c9406.png" alt="v"/> is the output signal voltage,
<img class="math" src="_images/math/b3b92070765308bdff77ec39c597f2ace7d812fc.png" alt="r_{01}"/> is the distance between elemental areas
<img class="math" src="_images/math/37e1e702d9f8f35ccf03a1a0013a6c0c31431d74.png" alt="d(\cos\theta_0 A_0)"/> and
<img class="math" src="_images/math/746ba028dd5205a595dcb58dea4dea0436c8011b.png" alt="d(\cos\theta_1 A_1)"/>,
<img class="math" src="_images/math/312d02d9af435f286d8069122faa5c8ac9b77bb0.png" alt="\epsilon_\lambda"/> is the source spectral emissivity,
<img class="math" src="_images/math/08f4ca00ca543420b51becbb9ce21725dd7c0d72.png" alt="L_\lambda(T,A_0)"/> is the Planck Law radiation at temperature
<img class="math" src="_images/math/f2d283a2071f9d043c9e0b0f794a8880fa0d3ce9.png" alt="T"/> at location <img class="math" src="_images/math/9808c9586a5541ef54bc150a643b967e68ca7580.png" alt="A_0"/>,
<img class="math" src="_images/math/579ac383f2478b8b63f6ad6e035c23c1e7087c82.png" alt="\tau_{a\lambda}"/> is the atmospheric spectral transmittance,
<img class="math" src="_images/math/25cb6b57080dcaf063939e94abcbd3f613717eed.png" alt="\tau_{s\lambda}(A_1)"/> is the sensor spectral transmittance at location <img class="math" src="_images/math/7d8779e6ecd1c1c63865faf316bf1f533efafc4b.png" alt="A_1"/>,
<img class="math" src="_images/math/a44a9c9007de4976efbe9c7902e7a4904fe95ebb.png" alt="{\cal R}_\lambda"/> is the spectral detector responsivity in [A/W],
<img class="math" src="_images/math/6e13f5ae4f75f274ed94ad5c809c3d7bb96f7232.png" alt="Z_t"/> is the amplifier transimpedance gain in [V/A].
The spectral integral <img class="math" src="_images/math/8315a67c90b8a373c845d97dcb49c6d7fe17eeee.png" alt="\int_0^\infty d\lambda"/> accounts for the total
flux for all wavelengths, the spatial integral
<img class="math" src="_images/math/13412302653be4079ce3152ce74d7bed5f51e491.png" alt="\int_{A_0}d(\cos\theta_0 A_0)"/>
accounts for flux over the total area of the source, and
the spatial integral
<img class="math" src="_images/math/e303a83b31bb882e9f1f1cc416636e116d3520c6.png" alt="\int_{A_1}d(\cos\theta_1 A_1)"/> accounts for the total area of the receiving area.</p>
<p>The top graphic in the following figure illustrates the
reasoning behind the spectral integral as a product, followed by an integral (summation),</p>
<a class="reference internal image-reference" href="_images/multispectral.png"><img alt="pyradi logo" class="align-center" src="_images/multispectral.png" style="width: 398.5px; height: 292.0px;" /></a>
<div class="math">
<p><img src="_images/math/3948cd05896e2e8987e8ce07f6084d8293044a09.png" alt="\int_0^\infty
\epsilon_\lambda L_\lambda(T)\tau_{a\lambda}\tau_{s\lambda}{\cal R}_\lambda
\;d\lambda,"/></p>
</div><p>where the spectral variability of the  source, medium and sensor parameters
are multiplied as spectral variables and afterwards integrated over all wavelengths
to yield the total in-band signal. The domain of spectral quantities can be
stated in terms of a wavelength, wavenumber, or less often, temporal frequency.</p>
<p>Likewise, the source radiance is integrated over the two respective areas of the
target <img class="math" src="_images/math/9808c9586a5541ef54bc150a643b967e68ca7580.png" alt="A_0"/>, and the sensor aperture <img class="math" src="_images/math/7d8779e6ecd1c1c63865faf316bf1f533efafc4b.png" alt="A_1"/>.  Note that if the
sensor field of  view footprint at the source is smaller than the physical
source area, only the flux emanating from the footprint area is integrated.</p>
<p>This example is a relatively complete worked example. The objective is to
calculate the signal of a simple sensor, detecting the presence or absence of
a flame in the sensor field of view. The sensor is pointed to an area just
outside a furnace smokestack, against a clear sky background. The sensor
must detect a change in signal, to indicate the presence or absence of a flame.</p>
<p>The sensor has an aperture area of <img class="math" src="_images/math/e15bc5312896ccbe6d165c2f14817ab4727494ba.png" alt="7.8 \times 10^{-3}"/> <img class="math" src="_images/math/eee7b713e2e7e62a780b8e04e24a0cc38eedb9ca.png" alt="{\rm m}^2"/>
and  a field of view of <img class="math" src="_images/math/935aa2cdb21e347008d79961d7ac6a27e11485b6.png" alt="1 \times 10^{-4}"/> sr. The sensor filter spectral
transmittance is shown below. The InSb detector has a peak responsivity of 2.5
A/W and normalised spectral response shown below. The preamplifier transimpedance
is 10000 V/A.</p>
<p>The flame area is  1 <img class="math" src="_images/math/eee7b713e2e7e62a780b8e04e24a0cc38eedb9ca.png" alt="{\rm m}^2"/>, the flame temperature is
<img class="math" src="_images/math/e23a98cf9a6eade64d056b8c40be2b8a2fbf3403.png" alt="1000^\circ"/> C, and the emissivity is shown below. The emissivity
is 0.1 over most of the spectral band, due to carbon particles in the flame.
At 4.3 <img class="math" src="_images/math/6bc44764dfc48dc23a67dd88d0f5256b534c6343.png" alt="\mu{\rm m}"/> there is a strong emissivity rise due to the hot
carbon dioxide <img class="math" src="_images/math/b1798485229b27c04afb7a74c0624815d147d156.png" alt="{\rm CO}_2"/> in the flame.</p>
<p>The distance between the flame and the sensor is 1000~m. The atmospheric
properties are calculated with the Modtran Tropical climatic model. The
path is oriented such that the sensor stares out to space, at a zenith angle
of <img class="math" src="_images/math/1b53483fa708e679e4255bdba14a42681a94926b.png" alt="88^\circ"/>. The spectral transmittance and path radiance along this
path is shown in below.</p>
<p>The peak in the flame emissivity and the dip in atmospheric transmittance are
both centered around the <img class="math" src="_images/math/0ddae20a80e36a37b3c0627fbc6a5258035e28ea.png" alt="4.3\mu{\rm m}"/> <img class="math" src="_images/math/b1798485229b27c04afb7a74c0624815d147d156.png" alt="{\rm CO}_2"/> band. The calculation
of flux
radiative transfer through the atmosphere must account for the strong spectral
variation, by using a spectral integral.</p>
<p>The signal caused by the flame is given by the equation above, where the
integrals over the surfaces of the flame and sensor are just their respective
areas. The signal caused by the atmospheric path radiance is given by</p>
<div class="math">
<p><img src="_images/math/434128fde1bb48298802873c5717a25d96a95cee.png" alt="v=
Z_t
\omega_{\rm optics}
A_{\rm optics}
\int_0^\infty
L_{{\rm path}\lambda}
\tau_{s\lambda}{\cal R}_\lambda
\;d\lambda,"/></p>
</div><p>where
<img class="math" src="_images/math/afd45acefb874c637357f19a07a01f64e3d89a26.png" alt="\omega_{\rm optics}"/> is the sensor field of view,
<img class="math" src="_images/math/118d4400421305a8b0842b8a74782fa7a956bb8e.png" alt="A_{\rm optics}"/> is the optical aperture area,
<img class="math" src="_images/math/770bc52b7b985ffaa68b5281f7fed5cb77deaeab.png" alt="L_{{\rm path}\lambda}"/> is the spectral path radiance
and the rest of the symbols are as defined above.</p>
<a class="reference internal image-reference" href="_images/flamesensor.png"><img alt="pyradi logo" class="align-center" src="_images/flamesensor.png" style="width: 515.1999999999999px; height: 378.0px;" /></a>
<p>The pyradi code to model this sensor is available as <a class="reference external" href="https://github.com/NelisW/pyradi/tree/master/pyradi/examples">exflamesensor.py</a>.
The output from this script is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Optics</span>   <span class="p">:</span> <span class="n">area</span><span class="o">=</span><span class="mf">0.0078</span> <span class="n">m</span><span class="o">^</span><span class="mi">2</span> <span class="n">FOV</span><span class="o">=</span><span class="mf">0.0001</span> <span class="p">[</span><span class="n">sr</span><span class="p">]</span>
<span class="n">Amplifier</span><span class="p">:</span> <span class="n">gain</span><span class="o">=</span><span class="mf">10000.0</span> <span class="p">[</span><span class="n">V</span><span class="o">/</span><span class="n">A</span><span class="p">]</span>
<span class="n">Detector</span> <span class="p">:</span> <span class="n">peak</span> <span class="n">responsivity</span><span class="o">=</span><span class="mf">2.5</span> <span class="p">[</span><span class="n">A</span><span class="o">/</span><span class="n">W</span><span class="p">]</span>
<span class="n">Flame</span>    <span class="p">:</span> <span class="n">temperature</span><span class="o">=</span><span class="mf">1273.16</span> <span class="p">[</span><span class="n">K</span><span class="p">]</span> <span class="n">area</span><span class="o">=</span><span class="mi">1</span> <span class="p">[</span><span class="n">m</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span> <span class="n">distance</span><span class="o">=</span><span class="mi">1000</span> <span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="n">fill</span><span class="o">=</span><span class="mf">0.01</span> <span class="p">[</span><span class="o">-</span><span class="p">]</span>
<span class="n">Flame</span>    <span class="p">:</span> <span class="n">irradiance</span><span class="o">=</span> <span class="mf">3.29e-04</span> <span class="p">[</span><span class="n">W</span><span class="o">/</span><span class="n">m</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span> <span class="n">signal</span><span class="o">=</span> <span class="mf">0.0641</span> <span class="p">[</span><span class="n">V</span><span class="p">]</span>
<span class="n">Path</span>     <span class="p">:</span> <span class="n">irradiance</span><span class="o">=</span> <span class="mf">5.45e-05</span> <span class="p">[</span><span class="n">W</span><span class="o">/</span><span class="n">m</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span> <span class="n">signal</span><span class="o">=</span> <span class="mf">0.0106</span> <span class="p">[</span><span class="n">V</span><span class="p">]</span>
</pre></div>
</div>
<p>It is clear that the flame signal is six times larger than the path radiance
signal, even though the flame fills only 0.01 of the sensor field of view.</p>
<table class="docutils citation" frame="void" id="spie8543pyradi" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[SPIE8543Pyradi]</a></td><td><em>Pyradi: an open-source toolkit for infrared calculation
and data processing</em>,  SPIE Proceedings Vol 8543, Security+Defence 2011,
Technologies for Optical Countermeasures, Edinburgh, 24-27 September,
C.J. Willers, M. S. Willers, R.A.T. Santos, P.J. van der Merwe, J.J. Calitz,
A de Waal and A.E. Mudau.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#toolkit-approach">Toolkit approach</a></li>
<li><a class="reference internal" href="#example-application">Example application</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to pyradi’s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ryplanck.html"
                        title="next chapter">Planck and thermal radiation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/introduction.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ryplanck.html" title="Planck and thermal radiation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to pyradi’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyradi  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2012, CJ Willers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>